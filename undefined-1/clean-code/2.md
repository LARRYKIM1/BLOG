# \# 2장 의미있는 이름

Robert C. Martin 저 "[Clean Code: A Handbook of Agile Software Craftsmanship](https://www.amazon.co.uk/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882/ref=sr_1_1?dchild=1&keywords=clean+code&qid=1590136934&sr=8-1)"을 읽고 정리한 내용입니다.

오른쪽 목차를 보면서 어떤 정보가 담겨있을지 생각해보자. 

아래 코드는 전부 나쁜코드들이다. 이유에 대해 설명해보자.  

```java
// -------------- 나쁜코드 유형 --------------
int d; // 시간 

// -------------- 나쁜코드 유형 --------------
public List<int[]> getThem() {
    List<int[]> list1 = new ArrayList<int[]>();
    for (int[] x : theList)
     if (x[0] == 4)
      list1.add(x);
    return list1;
 }
 
// -------------- 나쁜코드 유형 --------------
int a = l;
if ( O == l )
 a = O1;
else
 l = 01;
 
// -------------- 나쁜코드 유형 --------------
 public static void copyChars(char a1[], char a2[]) {
  for (int i = 0; i < a1.length; i++) {
   a2[i] = a1[i];
  }
 }
 
// -------------- 나쁜코드 유형 --------------
class DtaRcrd102 {
    private Date genymdhms;
    private Date modymdhms;
    private final String pszqint = "102";
    /* ... */
};

// -------------- 나쁜코드 유형 --------------
for (int j=0; j<34; j++) {
    s += (t[j]*4)/5;
}

// -------------- 나쁜코드 유형 --------------
PhoneNumber phoneString;

// -------------- 나쁜코드 유형 --------------
public class Part {
    private String m_dsc; // The textual description
    void setName(String name) {
        m_dsc = name;
    }
}

// -------------- 나쁜코드 유형 --------------
string name = employee.getName();
customer.setName("mike");
if (paycheck.isPosted())...

Complex fulcrumPoint = Complex.FromRealNumber(23.0);


// -------------- 나쁜코드 유형 --------------
private void printGuessStatistics(char candidate, int count) {

 String number;
 String verb;
 String pluralModifier;
 
 if (count == 0) {
 
  number = "no";
  verb = "are";
  pluralModifier = "s";
  
 } else if (count == 1) {
 
  number = "1";
  verb = "is";
  pluralModifier = "";
  
 } else {
 
  number = Integer.toString(count);
  verb = "are";
  pluralModifier = "s";
  
 }
 
 String guessMessage = 
    String.format( "There %s %s %s%s", verb, number, candidate, pluralModifier);
 print(guessMessage);
 
}
```



### 의도를 분명히 밝혀라. 

```java
--------- 나쁜 코드 --------- 
int d; // 날짜라는 변수명이 안 드러나 있다. 

--------- 좋 코드 --------- 
int elapsedTimeInDays;
int daysSinceCreation;
int daysSinceModification;
int fileAgeInDays;
```

```java
--------- 나쁜 코드 --------- 
public List<int[]> getThem() {
    List<int[]> list1 = new ArrayList<int[]>();
    for (int[] x : theList)
     if (x[0] == 4)
      list1.add(x);
    return list1;
 }
 
 문제점
1. theList에 뭐가 들었나? 
2. theList의 0번째 값이 왜 중요 ?
3. 4가왜 중요한가? 
4. 리턴값 어떻게 사용하는가?

위 코드는, '지뢰 찾기 게임'이었다.
조금더 명확하게 만들어보자. 
    
--------- 좋은 코드 --------- 
// 애매 변수명에 이름만 붙여도 코드가 상당히 나아진다. 
// 연산자 수와 상수 수는 앞의 코드와 똑같으며 들여쓰기 단계도 동일하다. 
// 하지만 더 명쾌하다. 
이름변경: getThem->'getFlaggedCells', list1->'flaggedCells', 
           x->'cell', theList->'gameBoard'

public List<int[]> getFlaggedCells() {
 List<int[]> flaggedCells = new ArrayList<int[]>();
 for (int[] cell : gameBoard)
  if (cell[STATUS_VALUE] == FLAGGED)
   flaggedCells.add(cell);
 return flaggedCells;
}

--------- 더 좋은 코드 --------- 
이름변경: int[]->'Cell'

public List<Cell> getFlaggedCells() {
 List<Cell> flaggedCells = new ArrayList<Cell>();
 for (Cell cell : gameBoard)
  if (cell.isFlagged())
   flaggedCells.add(cell); 
 return flaggedCells;
}
```

### 그릇된 정보를 피해라. 

* 실제 List가 아니면 AccountList  같이 사용하지 말자. 프로그래머들에게 List는 특수한 의미이다. 
* 흡사한 정보를 이름을 하용하지 말자. 
  * XYZControllerForEfficientHandlingOfStrings와 XYZControllerForEfficientStorageOfStrings를 구별할 수 있겠는가?
  * 프로그래머는 자동완성기능을 사용한다. 이름을 보고 쉽게 구별해  사할 수 있게 만든다.
* 아래 같은 소문자 엘과 오, 숫자 1과 0 사용시 주의하자. 

```java
--------- 나쁜 코드 --------- 
// 1 = l? 0 = o 구별... 
int a = l;
if ( O == l )
 a = O1;
else
 l = 01;
```

### 의미있게 구분하라. 

* info나 data를 불분명한 용어를 사용하지 말자. ProductInfo와 Product, accountData와 account는 구분이 안된다. 읽는사람이 차이를 알도록 이름을 지어야 한다.

```java
// 아래와 같은 함수들이 있으면, 개발자는 어떤 함수를 불러야 될지 알 수 있을까?
getActiveAccount();
getActiveAccounts();
getActiveAccountInfo();
```

* 개발자는 변수명과 매개변수 명으로 수행을 유추할 수 있다. 아래 코드를 보면, 메소드명을 보고 문자를 복사하는데 시작인수에서 목표인수으로 복사한다는 것을 알 수있다. 

```java
--------- 나쁜 코드 --------- 
public static void copyChars(char a1[], char a2[]) {
  for (int i = 0; i < a1.length; i++) {
   a2[i] = a1[i];
  }
}

--------- 좋은 코드 --------- 
public static void copyChars(char source[], char destination[]) {
  for (int i = 0; i < source.length; i++) {
   destination[i] = source[i];
  }
}
```

### 발음하기 쉬운 이름을 사용하라. 

* genymdhms \(generation date, year, month, day, hour, minute, and second\)와 같은 변수명을 사용한다면.. 어떻게 발음해야 될까? 젠으므ㄷ흠즈? 젠와이엠디에이치엠에스?

```java
--------- 나쁜 코드 --------- 
class DtaRcrd102 {
    private Date genymdhms;
    private Date modymdhms;
    private final String pszqint = "102";
    /* ... */
};

--------- 좋은 코드 --------- 
class Customer {
    private Date generationTimestamp;
    private Date modificationTimestamp;;
    private final String recordId = "102";
    /* ... */
};
```

### 검색하기 쉬운 이름을 사용하라. 

* 검색하기 쉬운 이름이 상수보다 좋다. 5를 WORK\_DAYS\_PER\_WEEK로 바꿔보자.
* 간단한 메서드에서 로컬변수만 한문자를 사용한다. \(저자방식\)
  * e는 사용하지 말기. 모든 단어에 다들어가는 흔한 스펠링.  

```java
--------- 나쁜 코드 --------- 
for (int j=0; j<34; j++) {
    s += (t[j]*4)/5; 
}

문제 
1. 5가 무슨의미가 있는 가 ?  찾다보면 55가 들어간 문구들을 다 마주쳐야 한다. 

--------- 좋은 코드 --------- 
// 이거 왜 이해가 안되지... 
int realDaysPerIdealDay = 4; // 이상적인날 당 실제 일자 -> 뭔말? 
const int WORK_DAYS_PER_WEEK = 5; // 주당 근무일수
int sum = 0;
for (int j=0; j < NUMBER_OF_TASKS; j++) { // 업무수 만큼 돌린다. 
    int realTaskDays = taskEstimate[j] * realDaysPerIdealDay; // 실제업무 날 
    int realTaskWeeks = (realdays / WORK_DAYS_PER_WEEK); // 실제업무 주 
    sum += realTaskWeeks;
}
```

### 인코딩을 피하라. 

```java
PhoneNumber phoneString;
// name not changed when type changed!
```

```java
// 1
public class Part {
    private String m_dsc; // The textual description
    void setName(String name) {
        m_dsc = name;
    }
}

// 2 
public class Part {
    String description;
    void setDescription(String description) {
        this.description = description;
    }
}
```

### 자신의 기억력을 자랑하지 마라. 

### 클래스 이름

### 메서드 이름 

```java
// 1 
string name = employee.getName();
customer.setName("mike");
if (paycheck.isPosted())...

// 2
Complex fulcrumPoint = Complex.FromRealNumber(23.0);

// 3
Complex fulcrumPoint = new Complex(23.0);
```

### 기발한 이름은 피하라. 

### 한 개념에 한단어를 사용하라. 

### 말장난을 하지 마라. 

### 해법 영역에서 가져온 이름을 사용하라. 

### 문제 영역에서 가져온 이름을 사용하라. 

### 의미있는 맥락을 추가하라. 

```java
// 1
private void printGuessStatistics(char candidate, int count) {

 String number;
 String verb;
 String pluralModifier;
 
 if (count == 0) {
 
  number = "no";
  verb = "are";
  pluralModifier = "s";
  
 } else if (count == 1) {
 
  number = "1";
  verb = "is";
  pluralModifier = "";
  
 } else {
 
  number = Integer.toString(count);
  verb = "are";
  pluralModifier = "s";
  
 }
 
 String guessMessage = 
    String.format( "There %s %s %s%s", verb, number, candidate, pluralModifier);
 print(guessMessage);
 
}
 
// 2
public class GuessStatisticsMessage {
 
 private String number;
 private String verb;
 private String pluralModifier;
  
 public String make(char candidate, int count) {
  createPluralDependentMessageParts(count);
  return String.format("There %s %s %s%s", verb, number, candidate, pluralModifier);
 }
 
 private void createPluralDependentMessageParts(int count) {
  if (count == 0) {
   thereAreNoLetters();
  } else if (count == 1) {
   thereIsOneLetter();
  } else {
   thereAreManyLetters(count);
  }
 }
 
 private void thereAreManyLetters(int count) {
  number = Integer.toString(count);
  verb = "are";
  pluralModifier = "s";
 }
 
 private void thereIsOneLetter() {
  number = "1";
  verb = "is";
  pluralModifier = "";
 }
 private void thereAreNoLetters() {
  number = "no";
  verb = "are";
  pluralModifier = "s";
 }
```

### 불요한 맥락은 없애라. 





